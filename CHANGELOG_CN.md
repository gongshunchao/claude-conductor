# 变更日志

[English](CHANGELOG.md) | **中文**

本项目的所有重要变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)，
本项目遵循 [语义化版本](https://semver.org/spec/v2.0.0.html)。

## [1.3.0] - 2026-02-10

### 新增
- `/conductor:review` 命令 —— 基于产品指南、代码风格指南和规格合规性的代码审查，提供严重性分级的发现报告、自动修复选项和轨道清理（归档/删除/跳过）
- C# 代码风格指南模板（`templates/code-styleguides/csharp.md`）—— 涵盖命名、格式化、记录类型、可空引用、模式匹配、异步、依赖注入和测试
- 通用代码风格指南模板（`templates/code-styleguides/general.md`）—— 命名、文件组织、函数、错误处理、安全、测试和 git 提交的通用标准

### 变更
- 增强了 `/conductor:implement` 中的轨道完成功能，新增文档同步步骤（自动检测并建议更新 product.md、tech-stack.md、product-guidelines.md）
- 增强了轨道完成功能，提供 4 个清理选项：审查（推荐）/ 归档 / 删除 / 跳过
- 更新了代码风格指南技能，新增 C#（`.cs`、`.csx`）和通用语言支持
- 版本号升级至 1.3.0

## [1.2.0] - 2025-12-29

### 变更
- 会话恢复现在完全依赖 plan.md 状态标记，而非自动上下文阈值跟踪

### 移除
- 自动上下文阈值跟踪和交接机制
- context-threshold.js 钩子及相关 Task 钩子配置
- 实现命令文档中的交接章节

### 文档
- 在 README.md 中添加了会话恢复文档
- 简化了工作流文档

## [1.1.1] - 2024-12-27

### 新增
- 代理和命令现在在未显式设置时从父上下文继承模型

### 修复
- 防止钩子中无限制的并行文件操作导致 CPU 飙升
- 优化所有钩子脚本中的 stdin 读取（数组收集 vs 字符串拼接）
- 在会话启动时添加孤立工作树检测警告
- 记录并发后台代理的资源限制

## [1.0.1] - 2024-12-24

### 修复
- 命令中的代理类型引用现在使用完全限定名称（conductor:planner、conductor:implementer、conductor:reviewer）

## [1.0.0] - 2024-12-24

### 新增
- 技能预加载、后台代理和工作树隔离
- 通过 marketplace.json 支持插件市场
- 带交互式选择的单阶段执行模式
- 上下文阈值自动交接功能
- 代码风格指南迁移至模板系统
- 第 5 阶段模板和文档
- 第 4 阶段钩子自动化
- 第 3 阶段技能集成
- 读取前的优雅文件存在性检查
- 达到上下文阈值时的通知

### 性能
- 所有命令和代理中的并行工具调用指令
- 优化插件以减少 token 使用量并加快执行速度

### 变更
- 更新命令引用为 kebab-case 格式
- 重命名代理，移除 conductor- 前缀
- 为代理和命令设置显式模型
- 全面更新模型字符串

### 修复
- marketplace.json 中的源路径现在使用 ./ 前缀
- 通过优雅的文件检查改进错误处理

### 文档
- 将 README 标题更新为 Claude Conductor
- 增强安装说明，添加 GitHub marketplace 方式
- 为预检查添加了具体的 Bash 命令

## [0.1.0] - 初始版本

### 新增
- 初始上下文驱动开发框架
- 基础的规划者、实现者和审查者代理
- 核心命令结构
